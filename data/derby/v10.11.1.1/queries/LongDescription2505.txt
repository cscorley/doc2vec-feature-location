In the process of converting this test, I realized we needed an way to run ij tests that would work with multiple connections. So, I made an IjTestCase that runs a script through ij's main method, redirects the output to a file, and then compares the file to a canon.

Attaching a patch for this issue which does that. The test creates several databases during its run. Should the JUnit wrappers for ij tests be cleaning these up, or will these get cleaned up later automatically?