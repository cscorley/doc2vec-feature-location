when used in subquery, SELECT has different grammar than in top most query.  SELECT NEW is not allowed.  FROM in subuqery has different syntax than in top most query.  For example    "FROM d.employees as e " in subquery where it would be invalid in top query.   Expression syntax in HAVING clause needs to allow  "HAVING min(e.salary) > 10 " is valid  provided that e.salary is a grouping field.